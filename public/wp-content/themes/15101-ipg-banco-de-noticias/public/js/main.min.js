function openShareWindow(e,t,a,n){var i,o;i=window.screen.width/2-(a/2+10),o=window.screen.height/2-(n/2+50);var s=["status=no,height="+n,",width="+a,",resizable=yes,left="+i,",top="+o,",screenx="+i,",screeny="+o,",toolbar=no,menubar=no",",scrollbars=no,location=no",",directories=no"].join("");return window.open(e,t,s),!1}function setIntroHeight(){var e=$(window).outerHeight(),t=$(".header").outerHeight(),a=$(".footer").outerHeight();$(".js-full-page").css({height:e}),$(".js-margin-top").css({marginTop:t}),$(window).width()>=1099?$(".js-full-page-no-header").css({height:e-t-a}):$(window).width()<1099&&$(".js-full-page-no-header").css({height:"auto"})}function toggleSearch(){$(".js-toggle-search").click(function(e){e.preventDefault();var t=$(".header__cover"),a="header__cover--active",n=$("body"),i="body--active",o=$(".header__brand"),s="header__brand--active",r=$(".header__search"),c="header__search--active";t.hasClass(a)?(t.removeClass(a),n.removeClass(i),o.removeClass(s),r.removeClass(c)):(t.addClass(a),n.addClass(i),o.addClass(s),r.addClass(c))})}function toggleDropdown(){$(".js-toggle-menu").click(function(e){e.preventDefault();var t=$(this),a=t.data("key"),n=$('.header__menu[data-key="'+a+'"]');n.hasClass("header__menu--active")?$(".header__menu").slideUp(250,function(){$(".header__menu").removeClass("header__menu--active")}):($(".header__menu").slideUp(250,function(){$(".header__menu").removeClass("header__menu--active")}),n.slideDown(250,function(){n.addClass("header__menu--active")}))})}var $window=$(window);setIntroHeight(),$(window).resize(setIntroHeight),toggleSearch(),toggleDropdown(),$(window).outerWidth()<1099?$(".filters__select").selectize({sortField:"text"}):$(".filters__select").chosen(),$('select[name="ies"]').on("change",function(e){e.preventDefault();var t=$(this),a=t.val();$.ajax({method:"GET",url:phpVars.ajaxUrl,data:{action:"return_city",state_slug:a}}).done(function(e){if(a=a.toUpperCase(),$('select[name="ici"]').html('<option value="-">Todas as cidades de '+a+"</option>"),"-"!==t.val()){var n=e,i=JSON.parse(n);$.each(i,function(e,t){$('select[name="ici"]').append($("<option></option>").val(t.slug).html(t.name))}),$('select[name="ici"]').trigger("chosen:updated")}}).fail(function(e){alert("Erro ao buscar as Cidades. Por favor, contate o administrador!")})}),$(document).bind("keydown",function(e){27===e.which&&$(".header__cover--active").length>0&&$(".js-toggle-search").click()});var $single=$(".single .main-content"),$page=$(".page .main-content");$single.find("p").selectionSharer(),$single.find("h1").selectionSharer(),$page.find("p").selectionSharer(),$page.find("h1").selectionSharer(),$("body").on("click",".js-gplus-share",function(e){e.preventDefault();var t=$(this).parents(".js-shared-container"),a=t.attr("data-url"),n="https://plus.google.com/share?url="+encodeURIComponent(a);openShareWindow(n,"Google Plus",600,600)}),$("body").on("click",".js-fb-share",function(e){e.preventDefault();var t=$(this).parents(".js-shared-container"),a=t.attr("data-url"),n=t.attr("data-title"),i=t.attr("data-picture"),o=t.attr("data-caption"),s=t.attr("data-description");FB.ui({method:"feed",name:n,link:a,picture:i,caption:o,description:s},function(e){e&&e.post_id?swal("Post publicado com sucesso","","success"):swal("Erro ao publicar post","","warning")})}),$("body").on("click",".js-twitter-share",function(e){e.preventDefault();var t=$(this).parents(".js-shared-container"),a=t.attr("data-url"),n=t.attr("data-title"),i=n+" "+a,o="https://twitter.com/intent/tweet?text="+encodeURIComponent(i);openShareWindow(o,"TTR",600,600)});var highlightNav=function(e){var t,a,n="js-highlight-nav",i="."+n,o={fast:150,slow:300},s=0,r=e(i),c=!1,l=function(){t=e(i+"-sections");2*parseInt(e(".js-highlight-nav").parent().outerHeight());a={top:t.offset().top,height:t.outerHeight(!0)},c={};var n=e(i+"-section");n.each(function(){var t=e(this),a=t.attr("data-index"),n=t.offset().top;c[a]=n})},d=function(t){e("html, body").animate({scrollTop:t},o.fast)},h=function(t){t.preventDefault();var a=2*parseInt(e(".js-highlight-nav").outerHeight(!0)),n=e(this),i=n.attr("href");"undefined"==typeof i&&(i="#"+n.attr("data-anchor"));var o=e(i).offset().top-a;d(o);var s="navigation__summary--active",r=e(".navigation__summary");r.hasClass(s)&&r.slideUp(250,function(){r.removeClass(s)})},u=function(e){e.preventDefault(),d(0)},v=function(t){if(c){t=parseInt(e(document).scrollTop(),10);var a=0;for(var n in c){var o=parseInt(c[n],10);o>t||(n=parseInt(n,10),n>a&&(a=n))}for(var s=0,r=null,l=null,d=0;a>d;d++)r=e(i+"-dash[data-index="+d+"]"),l=r.attr("style"),l=l.match(/([0-9]{1,3})/gi,"")[0],l=parseInt(l,10),s+=l;r=e(i+"-section[data-index="+a+"]");var h=e(i+"-dash[data-index="+a+"]");l=h.attr("style"),l=l.match(/([0-9]{1,3})/gi,"")[0],l=parseInt(l,10);var u=t-r.offset().top;a===e(i+"-section").length-1&&(u+=380);var v=u/r.outerHeight(!0);v=parseInt(100*v,10),v=l*v/100,s+=v,e(i+"-fill-bar").css({width:s+"%"})}},g=function(){var t=e(i+"-section"),n=t.length,o=0,s=0;t.each(function(){var t=e(this),r=t.attr("data-index"),c=t.outerHeight(!0),l=c/a.height;if(l=Math.floor(100*l,10),e(i+"-dash[data-index="+r+"]").css({width:l+"%"}),s+=l,o++,o===n&&!(s>99)){var d=100-s;l+=d,e(i+"-dash[data-index="+r+"]").css({width:l+"%"})}})},f=function(){if(c){var a=parseInt(e(document).scrollTop()),n=0;for(var o in c){var s=parseInt(c[o],10);s>a||(o=parseInt(o,10),o>n&&(n=o))}var r=e(i+"-section[data-index="+n+"]"),l=r.find(i+"-checkpoint"),d=l.text();t.attr("data-current",n),e(i+"-title").html(d)}},p=function(t){l();var n=e(document).scrollTop(),i="navigation--active",o=r.hasClass(i);if(n<=a.top)return void(o&&r.removeClass(i));o||r.addClass(i);e(".js-highlight-nav-sections").scrollTop();v(n),f()},m=function(t){l(),g();var a=e(document).scrollTop();v(a),f()},$=function(t){t.preventDefault();var a="navigation__summary--active",n=e(".navigation__summary");return n.hasClass(a)?(n.slideUp(250,function(){n.removeClass(a)}),!1):void n.slideDown(250,function(){n.addClass(a)})},_=function(t){t.preventDefault();var a=parseInt(e(".js-highlight-nav-sections").attr("data-current"));a+=1;var n=e('.js-highlight-nav-section[data-index="'+a+'"]');d(n.offset().top),s=a},w=function(t){t.preventDefault();var a=parseInt(e(".js-highlight-nav-sections").attr("data-current"));a>=s?a-=1:a=a;var n=e('.js-highlight-nav-section[data-index="'+a+'"]');d(n.offset().top),s=a},b=function(){if(e("body").find(".js-go-to-top").click(u),!(r.length<1)){l(),e(i+"-goto").click(h),r.find(".js-highlight-nav-summ").click($),r.find(".js-highlight-nav-previous").click(w),r.find(".js-highlight-nav-next").click(_);var t=e(window);t.scroll(p),t.resize(m),g(),f()}};return{initialize:b}};highlightNav(jQuery).initialize(),$(".navigation--mobile-right").insertBefore(".main-content"),$(".js-highlight-nav-summ-mobile").click(function(e){e.preventDefault(),$(".mobile-menu").hasClass("mobile-menu--active")?$(".mobile-menu").removeClass("mobile-menu--active"):$(".mobile-menu").addClass("mobile-menu--active"),$(".main-content").hasClass("main-content--active")?$(".main-content").removeClass("main-content--active"):$(".main-content").addClass("main-content--active"),$("body").hasClass("body--active")?$("body").removeClass("body--active"):$("body").addClass("body--active")});var scrollToPointMobile=function(e){$("html, body").animate({scrollTop:e},300)};$(".js-mobile-menu__link").click(function(e){e.preventDefault();var t=$(this),a=t.attr("href"),n=(2*parseInt($(".js-highlight-nav").outerHeight(!0)),$(a).offset().top-60);$(".mobile-menu").toggleClass("mobile-menu--active"),$(".main-content").toggleClass("main-content--active"),$("body").toggleClass("body--active"),scrollToPointMobile(n)});